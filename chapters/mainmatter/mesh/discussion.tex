
\section{讨论}
\label{sec:mesh_discussion}

本章实验中用到的计算机程序都是利用C++实现的。
其中的一些计算方法的实现则采用了VTK\cite{Schroeder2000VTK}中的实现。

在检验表面模型中相邻顶点的连接性的过程中，我们将所采用的算法设置为提取最大连接区域的模式。

为了抑制图像处理过程中所引入的噪声网格的影响，我们采用了一种表面平滑算法通过轻微地改变相关顶点的位置来除去这些网格。
平滑表面的算法具有两个关键的可设置参数，分别用于设置算法的带宽和迭代次数。
通过实验发现，平滑算法的迭代次数与平滑程度呈正相关关系，即：迭代次数越多，表面则越平滑。
另一方面，平滑算法的带宽与平滑程度则呈现出负相关关系，即：带宽越狭窄，表面越光滑。
需要指出的是，平滑算法在平整表面的同时，对表面的几何特征有轻微的破坏。

在削减多边形面片的过程中，我们需要权衡的是：一方面，根据仿真交互系统的需要，我们需要尽可能多地精简模型的数据量；另一方面，过高的精简率会严重扭曲模型的原始几何特征，从而造成对模型的几何特征的严重破坏。
这在选择削减率参数的时候是需要考虑的。
在本章的实验中，我们测试了一系列设置不同精简率的情况，并且成功地确定了生成的结果可接受的精简率参数。
面片削减的输出是progressive网格\cite{Hoppe1996}。
除了前述的对输入网格的削减，结果中的网格很好地保持了模型的几何特征，以及其整体的外观（法线，颜色，等）。

在验证交互性能的过程中，大于$10$的fps对于本样机才足以保证显示的流畅性。
在本章中，用于验证的主动脉区段表面模型的多边形数量被削减了$90\%$（见第\ref{subsec:mesh_validation}节），在交互实验中实现了$18$fps（$> 10$）。
而用于手术仿真研究的主动脉和冠状动脉的表面模型的多边形数量则被削减$99\%$，才在交互实验中实现了$11$fps（$> 10$）。
\begin{table}[t]
\renewcommand{\arraystretch}{0.5}
\caption[精简率与fps――情形I]{精简率与fps――情形I}
\label{tbl:mesh_FPS1}
\centering
\begin{tabular*}{100mm}{c r r r r r}
\toprule
\hspace{5mm} \small{精简率（$\%$）}           & \small{$10$} & \small{$50$} & \small{$75$} & \small{$90$} & \small{$99$} \\
\midrule
\hspace{5mm} \small{仿真初始fps}              & \small{$30$} & \small{$35$} & \small{$38$} & \small{$41$} & \small{$42$} \\
\midrule
\hspace{5mm} \small{仿真平均fps}              &  \small{$6$} & \small{$10$} & \small{$15$} & \small{$18$} & \small{$30$} \\
\midrule
\hspace{5mm} \small{是否完成仿真？（是/否）}  &  \small{否}  &  \small{否}  & \small{是}   & \small{是}   & \small{是}   \\
\bottomrule
\end{tabular*}
\end{table}
\begin{table}[t]
\renewcommand{\arraystretch}{0.5}
\caption[精简率与fps――情形II]{精简率与fps――情形II}
\label{tbl:mesh_FPS2}
\centering
\begin{tabular*}{80mm}{c r r r r r}
\toprule
\hspace{5mm} \small{精简率（$\%$）}           & \small{$90$} & \small{$95$} & \small{$99$} \\
\midrule
\hspace{5mm} \small{仿真初始fps}              & \small{$20$} & \small{$32$} & \small{$31$} \\
\midrule
\hspace{5mm} \small{仿真平均fps}              &  \small{$4$} &  \small{$6$} & \small{$11$} \\
\midrule
\hspace{5mm} \small{是否完成仿真？（是/否）}  &  \small{否}  &  \small{否}  & \small{是}   \\
\bottomrule
\end{tabular*}
\end{table}