\begin{tikzpicture}[scale=.6]

\draw [black,thick,rounded corners] (-3,0) rectangle (3,2);            % binary threshold
\draw [fill=gray,black,thick,rounded corners] (-3,3) rectangle (3,5);  % CURVES

\draw [black,thick,rounded corners] (-8,7) rectangle (-2,9);   % initial contours

\draw [black,thick,rounded corners] (2,7) rectangle (8,9);     % feature images

\draw [black,thick,rounded corners] (-3,11) rectangle (3,13);  % thresholding
\draw [black,thick,rounded corners] (-3,14) rectangle (3,16);  % curvature anisotropic diffusion
\draw [black,thick,rounded corners] (-3,17) rectangle (3,19);  % ROI extraction
\draw [black,thick,rounded corners] (-3,20) rectangle (3,22);  % raw input

\node [above right] at (-2.1,0.5) {\small 二值阈值滤波};
\node [above right] at (-1.5,3.5) {\small CURVES};

\node [above right] at (-7.5,7.5) {\small 初始水平集演进};

\node [above right] at (2.9,7.5) {\small 特征图像计算};

\node [above right] at (-1.6,11.5) {\small 阈值滤波};
\node [above right] at (-2.7,14.5) {\small 曲率各向异性扩散};
\node [above right] at (-1.5,17.5) {\small ROI提取};
\node [above right] at (-1.8,20.5) {\small 原始体数据};

\draw [<-,thick] (0,2) -- (0,3);

\draw [<-,thick] (0,5) -- (0,6);
\draw [thick] (-5,6) -- (5,6);
\draw [thick] (-5,6) -- (-5,7);
\draw [thick] (5,6) -- (5,7);

\draw [<-,thick] (-5,9) -- (-5,10);
\draw [<-,thick] (5,9) -- (5,10);
\draw [thick] (-5,10) -- (5,10);
\draw [thick] (0,10) -- (0,11);

\draw [<-,thick] (0,13) -- (0,14);
\draw [<-,thick] (0,16) -- (0,17);
\draw [<-,thick] (0,19) -- (0,20);

\end{tikzpicture} 